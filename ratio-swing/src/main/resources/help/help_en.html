<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Help - Ratio ${pom.version}</title>
<style type="text/css">
<!--
body {
	font-family: sans-serif;
	font-size: 10px;
}

pre {
	font-size: 1em;
}

table {
	border-collapse: collapse;
}

td {
	border-width: 1px;
	border-style: solid;
}

.emph {
	font-weight: bold;
}

.expr {
	font-style: italic;
	font-weight: bold;
	color: #408040;
}

.value {
	font-family: monospace;
	font-weight: bold;
	color: #404080;
}
-->
</style>
</head>
<body>
	<h1>Ratio ${pom.version}</h1>

	<ul>
		<li><a href="#GettingStarted">Getting Started</a>
			<ul>
				<li><a href="#ToolBar">Tool Bar</a></li>
				<li><a href="#ExploringPanel">Exploring Panel</a></li>
				<li><a href="#DetailsPanel">Details Panel</a></li>
				<li><a href="#HowToAdd">How to add a new expression</a></li>
				<li><a href="#HowToModify">How to modify an expression</a></li>
				<li><a href="#HowToDelete">How to delete an expression</a></li>
				<li><a href="#HowToRestore">How to restore changed values</a></li>
			</ul></li>
		<li><a href="#Expressions">Expressions</a>
			<ul>
				<li><a href="#Composition">Composition</a></li>
				<li><a href="#Slicing">Slicing</a></li>
				<li><a href="#Oper">Operators</a></li>
				<li><a href="#Identity">Identity</a></li>
				<li><a href="#Det">Determinant</a></li>
				<li><a href="#Inv">Inverse</a></li>
				<li><a href="#Trace">Trace</a></li>
				<li><a href="#Trans">Transpose</a></li>
				<li><a href="#Reduce">Reduce</a></li>
				<li><a href="#lcm">LCM</a></li>
				<li><a href="#rank">Rank</a></li>
				<li><a href="#bases">Bases</a></li>
				<li><a href="#Priorities">Operator Priorities</a></li>
			</ul></li>
		<li><a href="#Syntax">Syntax</a></li>
	</ul>

	<span class="emph">Ratio</span> is a calculator that handles rational
	numbers and matrix algebra.

	<a name="GettingStarted"></a>
	<h2>Getting started</h2>
	<p>
		When started Ratio shows you the workbench window with a <a
			href="#ToolBar">Tool Bar</a> and two panels:
	</p>
	<ul>
		<li>In the left there is the <a href="#ExploringPanel">Exploring
				Panel</a> listing all the definitions.
		</li>
		<li>In the right there is the <a href="#DetailsPanel">Details
				Panel</a> showing the details.
	</ul>

	<a name="ToolBar"></a>
	<h3>Tool Bar</h3>
	<p>The Tool Bar contains the classical buttons to create new
		document, load an existing document and save current document.</p>
	<p>
		The other important button is <span class="emph">Add Button</span>
		that allows you to insert a new expression.
	</p>

	<a name="ExploringPanel"></a>
	<h3>Exploring Panel</h3>
	<p>The Exploring Panel is a table contains the names, texts and
		values of the expressions.</p>
	<p>Selecting a row in the Exploring Panel the details of selected
		definition are shown in the Details Panel.</p>

	<a name="DetailsPanel"></a>
	<h3>Details Panel</h3>
	<p>The Details Panel shows the details of the selected row in
		Exploring Panel. You can see and change the name and the text of an
		expression, the error in the text if any and the current value of
		expression.</p>
	<p>In the bottom of the panel you can find three buttons:</p>
	<ul>
		<li>The <span class="emph">Delete Button</span> allows you to
			delete the expression.
		</li>
		<li>The <span class="emph">Restore Button</span> restores the
			original values if changed.
		</li>
		<li>The <span class="emph">Apply Button</span> applies any
			changes in the name or text, recomputing each value.
	</ul>

	<a name="HowToAdd"></a>
	<h3>How to add a new expression</h3>
	<p>In the Tool Bar press the Add Button; a new expression will be
		created.</p>
	<p>In the Details Panel you can change the name of expression and
		the text of the expression.
	<p>Press the Apply Button in the Details Panel to apply the
		changes.</p>
	<p>If there is error, it will be shown in the error area of Detail
		Panel identifying the location of error and the cause.</p>

	<a name="HowToModify"></a>
	<h3>How to modify an expression</h3>
	<p>In the Exploring Panel select the expression to modify.</p>
	<p>In the Details Panel you can change the name of expression and
		the text of the expression.
	<p>Press the Apply Button in the Details Panel to apply the
		changes.</p>
	<p>If there is error, it will be shown in the error area of Detail
		Panel identifying the location of error and the cause.</p>

	<a name="HowToDelete"></a>
	<h3>How to delete an expression</h3>
	<p>In the Exploring Panel select the expression to delete.</p>
	<p>In the Details Panel press the Delete Button; the expression
		will be removed.</p>

	<a name="HowToRestore"></a>
	<h3>How to restore changed values.</h3>
	<p>If you changed the values and you have not yet applied the
		changes, you can restore the original values pressing Restore Button
		in Details Panel.</p>

	<a name="Expressions"></a>
	<h2>Expressions</h2>
	<p>The calculator evaluates the expressions entered by user. Each
		value is rational number that represents the fraction of two integers:
		the numerator and the denominator.</p>
	<p>Eg: 1/2, 4/5</p>
	<p>Every fraction is converted to the irreducible fraction dividing
		both numerator and denominator by the GCD (Greater Common Divisor).</p>
	<p>Eg: 2/4 = 1/2, 10/15 = 2/3.</p>

	<a name="Composition"></a>
	<h3>Composition</h3>
	<p>You can compose array using the composition binary operators ","
		and ";".</p>
	<p>
		The <span class="expr">","</span> operator create a new array
		augmenting the left term with columns from right term.
	</p>
	<p>
		Eg: <span class="expr">"1,2,3"</span> produces an array of 1 row by 3
		columns:
	<table>
		<tr>
			<td>1</td>
			<td>2</td>
			<td>3</td>
		</tr>
	</table>
	</p>
	<p>
		The <span class="expr">";"</span> operator create a new array
		augmenting the left term with the rows from right term.
	</p>
	<p>
		Eg: <span class="expr">"1;2;3"</span> produces an array of 3 rows by 1
		column
	<table>
		<tr>
			<td>1</td>
		</tr>
		<tr>
			<td>2</td>
		</tr>
		<tr>
			<td>3</td>
		</tr>
	</table>


	<p>Combining the two operators you can produce array af any size.</p>
	<p>
		Eg: <span class="expr">"1,2,3;4,5,6;7,8,9"</span> produces an array of
		3 rows by 3 columns
	</p>
	<table>
		<tr>
			<td>1</td>
			<td>2</td>
			<td>3</td>
		</tr>
		<tr>
			<td>4</td>
			<td>5</td>
			<td>6</td>
		</tr>
		<tr>
			<td>7</td>
			<td>8</td>
			<td>9</td>
		</tr>
	</table>

	<a name="Slicing"></a>
	<h3>Slicing</h3>
	<p>
		The slicing operators <span class="expr">"row"</span> and <span
			class="expr">"col"</span> can be used to create an array from another
		one extracting part of it.
	</p>
	<p>
		You can extract a contiguous set of rows with <span class="expr">"row"</span>
		followed by the first and last inclusive row index. Note that the
		indexes are zero based, so the first row has index 0.
	</p>
	<p>
		Eg: <span class="expr">"1,2,3;4,5,6;7,8,9 row 1,2"</span> produces an
		array of 2 rows by 3 columns
	</p>
	<table>
		<tr>
			<td>4</td>
			<td>5</td>
			<td>6</td>
		</tr>
		<tr>
			<td>7</td>
			<td>8</td>
			<td>9</td>
		</tr>
	</table>
	<p>
		You can extract a contiguous set of columns with <span class="expr">"col"</span>
		followed by the first and last column index. Note that the indexes are
		zero based, so the first column index has 0.
	</p>
	<p>
		Eg: <span class="expr">"1,2,3;4,5,6;7,8,9 col 1,2"</span> produces an
		array of 3 rows by 2 columns
	</p>
	<table>
		<tr>
			<td>2</td>
			<td>3</td>
		</tr>
		<tr>
			<td>5</td>
			<td>6</td>
		</tr>
		<tr>
			<td>8</td>
			<td>9</td>
		</tr>
	</table>
	<p>The composition operators has higher priority than slicing
		operators.</p>

	<a name="Oper"></a>
	<h3>Operators</h3>
	<p>The basic binary algebraic operators are supported:</p>
	<ul>
		<li><span class="expr">"+"</span> computes the sum of the terms</li>
		<li><span class="expr">"-"</span> computes the difference of the
			terms</li>
		<li><span class="expr">"*"</span> computes the product of the
			terms</li>
		<li><span class="expr">"/"</span> computes the quotient of the
			terms</li>
	</ul>
	<p>
		Eg. <span class="expr">"(2,3;5,3) + (1,2;2,3)"</span> produces <span
			class="value">[3, 5; 7, 9]</span><br> <span class="expr">"(2,3;5,3)
			- (1,2;2,3)"</span> produces <span class="value">[1, 1; 3, 0]</span><br>
	</p>

	<a name="Identity"></a>
	<h3>Identity</h3>
	<p>
		You can produce the identity square arrays using the Identity function
		<span class="expr">I</span> followed by an integer with the number of
		dimensions.
	</p>
	<p>
		Eg. <span class="expr">I(3)</span> produces <span class="value">[1,
			0, 0; 0, 1, 0; 0, 0, 1]</span>
	</p>

	<a name="Det"></a>
	<h3>Determinant</h3>
	<p>
		You can compute the determinant of an array using the <span
			class="expr">det</span> function.
	</p>
	<p>
		Eg. <span class="expr">"det(2,1;3,4)"</span> produces <span
			class="value">5</span>
	</p>

	<a name="Inv"></a>
	<h3>Inverse</h3>
	<p>
		You can compute the inverse of an array using the <span class="expr">inv</span>
		function.
	</p>
	<p>
		Eg. <span class="expr">"inv(2,1;3,4)"</span> produces <span
			class="value">[4/5, -1/5; -3/5, 2/5]</span>
	</p>

	<a name="Trace"></a>
	<h3>Trace</h3>
	<p>
		You can compute the trace of an array using the <span class="expr">trace</span>
		function.
	</p>
	<p>
		Eg. <span class="expr">"trace(2,1;3,4)"</span> produces <span
			class="value">6</span>
	</p>

	<a name="Trans"></a>
	<h3>Transpose</h3>
	<p>
		You can compute the transpose of an array using the <span class="expr">trans</span>
		function.
	</p>
	<p>
		Eg. <span class="expr">"trans(2,1;3,4;5,7)"</span> produces <span
			class="value">[2, 3, 5; 1, 4, 7]</span>
	</p>

	<a name="Reduce"></a>
	<h3>Reduce</h3>
	<p>
		You can apply the Gauss reduction to an array applying the <span
			class="expr">reduce</span>
	</p>
	<p>
		Eg. <span class="expr">"reduce(2,1,5;3,4,7)"</span> produces <span
			class="value">[1, 0, 13/5; 0, 1, -1/5]</span>
	</p>

	<a name="lcm"></a>
	<h3>LCM</h3>
	<p>
		You can compute the lcm (least common multiple) of all the cell
		denominators of an array using the function <span class="expr">lcm</span>.
		Multiplying lcm by the array, an array of integers is produced.
	</p>
	<p>
		Eg. <span class="expr">"lcm(1/2,2/3,4/10)"</span> produces <span
			class="value">30</span>
	</p>

	<a name="rank"></a>
	<h3>Rank</h3>
	<p>
		You can compute the rank of an array using the function <span
			class="expr">rank</span>.
	</p>
	<p>
		Eg. <span class="expr">"rank(1,2,3;2,3,4;3,4,5)"</span> produces <span
			class="value">2</span>
	</p>

	<a name="bases"></a>
	<h3>Bases</h3>
	<p>
		You can compute the base vectors of a matrix using the function <span
			class="expr">bases</span>.
	</p>
	<p>
		Note than given V=<span class="expr">(1,2,3;2,3,4;3,4,5)</span> a
		vector set (any column of matrix rappresents a vector), you can find
		the base vectors and the rappresentation of the vector set in the new
		base set as follow:<br> Let E1 = <span class="expr">bases
			V</span> be the new bases of V and n = <span class="expr">rank V</span> the
		rank of v. The new vector set, in the E1 bases, is V1 = <span
			class="expr">reduce V row (0,n-1)</span>.
	</p>
	<p>
		Eg. <span class="expr">"bases(1,2,3;2,3,4;3,4,5)"</span> produces <span
			class="value">[1, 2; 2, 3; 3, 4]</span>
	</p>

	<a name="Priorities"></a>
	<h3>Operator Priorities</h3>
	<p>The operator priorities from higher to lower are:</p>
	<ol>
		<li>Bracket operators <span class="expr">"(" ... ")"</span></li>
		<li>Unary oparators <span class="expr">"+", "-", "I",
				"det", "trans", "trace", "inv", "reduce", "lcm", "rank", "bases"</span></li>
		<li>Multiplier operators <span class="expr">"*", "/"</span></li>
		<li>Adder operators <span class="expr">"+", "-"</span></li>
		<li>Row composition operator <span class="expr">","</span></li>
		<li>Column composition operator <span class="expr">";"</span></li>
		<li>Slicing operators <span class="expr">"row", "col"</span></li>
	</ol>


	<a name="Syntax"></a>
	<h2>Syntax</h2>
	<p>The syntax in BNF format is:</p>
	<pre>
&lt;expression&gt; ::= &lt;slice&gt;

&lt;slice&gt; ::= &lt;composeCol&gt; { &lt;slice-operator&gt; &lt;composeCol&gt; }
 
&lt;slice-operator&gt; ::= "row" | "col" 

&lt;composeCol&gt; ::= &lt;composeRow&gt; { ";" &lt;composeRow&gt; } 

&lt;composeRow&gt; ::= &lt;add&gt; { "," &lt;add&gt; } 

&lt;add&gt; ::= &lt;mul&gt; { &lt;add-operator&gt; &lt;mul&gt; }

&lt;add-operator&gt; ::= "+" | "-" 

&lt;mul&gt; ::= &lt;unary&gt; { &lt;mul-operator&gt; &lt;unary&gt; }

&lt;mul-operator&gt; ::= "*" | "/"

&lt;unary&gt; * ::= &lt;unary-operator&gt; &lt;unary&gt; | &lt;term&gt;

&lt;unary-operator&gt; * ::=
	"+"
	| "-"
	| "I"
	| "det"
	| "trans"
	| "trace"
	| "inv"
	| "reduce"
	| "lcm"
	| "rank"
	| "bases"

&lt;term&gt; ::= &lt;integer&gt; | &lt;identifier&gt; | "(" &lt;slice&gt; ")"
	</pre>
	<p>marco.marini@mmarini.org</p>
</body>
</html>